<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="icon" href="data:;base64,=">
<title>Gear</title>
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/9.4.4/math.min.js"></script>
<script src="gear.js"></script>
<script></script>
<style>
body {
  font-family: sans-serif; 
  font-size: 16px;
}

input.f {
  width: 60px;
  font-weight: bold;
}
</style>
</head>
<body onload="init();">
<div id="gear"></div>

<!-- SVG viewbox: x y width height -->
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  id="gearview" width="100%" height="700px" 
  viewbox="-15 -10 30 20" >
<style type="text/css">
svg {
  stroke: black;
  stroke-width: 0.1px;
  stroke-linecap: round;
  fill: none;
}

.construct {
  stroke-width: 0.02px;  
}
</style>
<defs id="svg-defs">
</defs>

  <g id="construct">
    <line class="construct" x1="-35" y1="0" x2="35" y2="0" />
  </g>
  <g id="A" transform="translate(-10, 0)" stroke="brown">
    <g id="rotA">
      <!-- 
      <circle cx="0" cy="0" r="12"/>
      <polygon points="0,-11 -12,11.5 12,11.5" fill="green"/>
      -->
    </g>
  </g>
  <g id="B" transform="translate(20, 0) scale(1)" stroke="pink"  >
    <g id="rotB">
      <!--
      <polygon points="-10,-10, 10,-10, 10,10, -10,10" fill="blue"/>
      -->
    </g>
  </g>
  <g id="rack" stroke="pink"></g>
</svg>


<form name="gp" action="" method=""><table cellspacing="10" align="left">
<tbody><tr>

<td width="240" valign="top">
<p>Contact angle:<br>
  <input class="f" type="number" name="contangle" value="20" size="10" onchange="UpdateGears()" onkeyup="UpdateGears()"> deg
</p>
<p>Gear 1 teeth:<br>
  <input class="f" type="number" name="g1t" value="7" size="10" onchange="UpdateGears()" onkeyup="UpdateGears()">
  <input type="checkbox" name="rack" onclick="UpdateGears()"> Pinion &amp; Rack
</p>
<p>Gear 2 teeth:<br>
  <input class="f" type="number" name="g2t" value="11" size="10" onchange="UpdateGears()" onkeyup="UpdateGears()">
  <input type="checkbox" name="twogears" checked="" onclick="UpdateGears()"> Two gears
</p>
</td>

<td width="220" valign="top">
<p>Tooth spacing:<br>
  <input class="f" type="number" name="toothspace" value="15" size="10" onchange="UpdateGears()" onkeyup="UpdateGears()"> mm
</p>
<p>Shaft hole dia.:<br>
  <input class="f" type="number" name="shafthole" value="5" size="10" onchange="UpdateGears()" onkeyup="UpdateGears()">
</p>
<!--  
<p>Spokes:<br>
  <input class="f" type="number" name="spokes" value="3" size="10" onchange="UpdateGears()" onkeyup="UpdateGears()" disabled="">
  <input type="checkbox" name="showspokes" value="checked" onclick="UpdateGears()"> Show spokes
</p>
<p>Show rotated:<br>
  <input class="f" type="number" name="rotation" value="0" size="10" onchange="UpdateGears()" onkeyup="UpdateGears()"> % of 1 toothspace
</p>
 -->
<br>
<a id="get_svg" href="#" >Get SVG</a><br>
</td>

<td width="180" valign="top">
<p>
<input type="checkbox" name="pdia" onclick="UpdateGears()">Pitch diameter<br>
<input type="checkbox" name="cline" checked onclick="UpdateGears()">Line of contact<br>
<input type="checkbox" name="crosshair" checked onclick="UpdateGears()">Show center<br>
<input type="checkbox" name="tipclear" onclick="UpdateGears()">Tip Clearance<br>
<input type="checkbox" name="animate" onclick="UpdateGears()">Animate<br>
<input type="checkbox" name="zoom" onclick="UpdateGears()">Zoom<br>
<br>
<a href="https://woodgears.ca/gear_cutting/template.html#moretext" target="help">Explain fields (Help)</a><br>
<p>
</td>

</tr></tbody></table>
</form>

</body>
</html>
